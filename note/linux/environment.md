# Linux 常用命令
 + vim/vi命令
  ```
    强制不保存推出 ： :q!

    //常用快捷命令
    行首/行末  :  ctrl + a | ctrl + e
    清屏:  ctrl + l
    中止终端输出 / 启动终端输出 :  ctrl + s  | ctrl + q

  ```
 + 常用top 命令
   ```
     
   ```
 + Linux环境 目录
   ```
     /bin 系统命令  存放二进制可执行文件(ls,cat,mkdir等)
     /etc 存放系统管理和配置文件
     /home 存放所有用户文件的根目录，是用户主目录的基点，比如用户user的主目录就是/home/user,可以用~user表示
     /boot only look don't modify   存放用于系统引导时使用的各种文件
     /dev 系统文件 存放各种设备文件
     /root 超级管理员主目录
     /usr 用于存放系统应用程序，比较重要的目录/usr/local 本地系统管理员软件安装目录(安装系统级的应用)这是最庞大的目录，要用到的应用程序和文件几乎都在这个目录，/usr/x11r6
     存放x window 的目录/usr/bin众多的应用程序/usr/sbin超级用户的一些管理程序/usr/doc linux 文档/usr/include linux 下开发和编译应用程序所需要的头文件/usr/lib常用的动态链接库
     和软件包的配置文件/usr/man 帮助文档/usr/src 源代码，linux内核的源代码就放在/usr/src/linux里/usr/local/bin本地命令/usr/local/lib 本地增加的库
     /proc 虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息
     /sbin 存放二进制可执行文件。只有root 才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如ifconfig等
     /mnt 系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统。
     /lib 存放跟文件系统中的程序运行所需要的共享库及内核模块。共享库又叫动态链接共享库。作用类似windows 里的.dll 文件,存放了根文件系统程序运行所需要的共享文件。
     /tmp 用于存放各种临时文件，是公用的临时文件存储点
     /var 用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务器的日志文件(系统启动日志等。)等
     /Lost + found 这个目录平时是空的，系统非正常关机而留下"无家可归"的文件(windows下叫什么 .chk)就在这里
   ```
 + Linux环境命令
   ```
   whereis
     搜索命令所在路径以及帮助文档所在位置
     whereis命令名
     whereis ls 
      -b 只查找可执行文件
      -m 只查找帮助文件

   which
     可以看到别名 which ls
     能看到的都是外部安装的命令
     无法查看Shell自带的命令，如which cd   

   环境变量   
   ``` 

 + 命令基本格式
    1.命令提示符
      ```
       [root@xxxName ~]#
      ```  
     · root当前登陆用户
     · localhost主机名
     · ～当前工作目录，默认是当前用户的根目录,root就是/root,普通用户就是/home/用户名
     · 提示符 超级用户是# ,普通用户是$ 
    
    2. 命令格式
     · 命令[选项][参数]
     · 当有多个选项时，可以写在一起
     · 一般参数有简化和完整写法两种 -a 与 --all 等效

    3. ls
     · 查询目录中的内容
     · ls[选项][文件或目录]
     · 选项 
       · -a显示所有文件，包括隐藏文件
       · -l 显示详细信息
       · -d 查看目录本身的属性而非子文件 ls /etc
       · -n 显示inode 也就是i节点,每个节点都有ID号
     · 默认当前目录下的文件列表
       
     -l 

     显示详细信息

       ```
         drwxr-xr-x .  1 root root  800 sep 16 00:19 logs 
       ```

    |drwxr-xr-x|.|1|root|root|800|Sep 16 00:19|logs|
    |---|---|---|---|---|---|---|---|
    |文件类型和权限|ACL权限|硬链接引用计数|所有者|所属组|文件大小|最后修改时间|文件名|

     文件类型和权限

     ```
       -rw-r--r--
     ```
      · 文件类型 -文件、d 目录、 | 软链接文件
      · u(所有者)、g(所属组)、o(其他人)
      · r(read)读取、  w(write)写入、 x(execute)执行


    + 文件处理命令 
      1. mkdir
         · 建立目录 make directory
         · mkdir -p [目录名]
            · -p 递归创建
      2. cd
         · 切换所在目录 change directory
         · cd[目录]
            · ～家目录
            · 家目录
            · -上次登录
            · .当前目录
            · ..上级目录
         · 相对路径是参照当前所在目录
         · 绝对路径是从根目录开始
         · 按TAB键可以补全命令和目录
      3. pwd
         · 显示当前目录 pwd
      4. rmdir
         · 删除目录 remove empty directory
         · rmdir[目录名]
      5. rm
         · 删除文件或者目录remove          
         · rm[文件或者目录]
           · -r 删除目录
           · -f 强制删除
         · rm -rf文件或者目录递归强制删除所有目录
      6. cp
         · copy复制命令
         · copy[源文件或者目录][目标文件]
           · -r 复制目录，默认是复制文件
           · -p 连带文件属性复制
           · -d 若源文件是链接文件，则复制连接属性
           · -a 相当于 -rpd
      7. mv
         · 移动文件或者改名move 
         · mv [源文件或者目录][目标文件]         
      8. ln
         · 链接命令，生成链接文件link
       
         + 硬链接特征
           · 拥有相同的i节点和存储block块,可以看作是同一个文件
           · 可以通过i节点访问
           · 不能跨分区
           · 不能针对目录使用
           · 一般不使用

         + 软链接特征
           ·  ln -s[源文件][目标文件]
              ·  -s 创建软链接
           ·  类似Window 快捷方式
           ·  软链接拥有自己的i节点和Block块，但是数据块中只保存源文件的文件名和i节点号，并没有实际的文件数据
           · lrwxrwxrwx | 软链接 软链接的文件权限都是777
           · 修改任意一个文件，另一个都会改变
           · 删除源文件，软链接不能使用
           · 软链接源文件必须写绝对路径

    + 文件搜索命令      
      1. locate
         · 在后台数据库中按文件名搜索，速度比较快
         · 数据保存在/var/lib/mlocate后台数据库，每天更新一次
         · 可以updatedb命令立刻更新数据库
         · 只能搜索文件名
         ```
           /etc/updatedb.conf
         ```
         建立索引的配置文件
          · PRUNE_BIND_MOUNTS = 'yes' 全部生效，开启搜索限制
          · PRUNEFS 不搜索的文件系统
          · PRUMENAMES 忽略的文件类型
          · PRUNEPATHS 忽略的路径 /tmp

       2. whereis
          · 搜索命令所在路径以及帮助文档所在位置
          · whereis 命令名
          ```
           whereis ls
          ```
           · -b 只查找可执行文件
           · -m 只查找帮助文件
       
       3. which 
          · 可以看到别名 which ls
          · 能看到的都是外部安装的命令
          · 无法查看Shell自带的命令，如 which cd    
       
       4. 环境变量   
          ```
            /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
          ```
          · 定义的是系统搜索命令的路径
          · echo $PATH
       5. find
          · 文件搜索命令
          · find [搜索范围][搜索条件]

          5.1 按名称搜索
             · 避免大范围搜索，会非常消耗系统资源
             ```
               find / -name aaa.log
             ```
          5.2 通配符
             · find 是在系统当中搜索符合条件的文件名，如果需要匹配，使用通配符匹配，通配符是完全匹配
             · 通配符
               · * 匹配任意内容
               · ？匹配任意一个字符
               · []匹配任意一个中括号内的字符

             ```
               find . -name "ab[cdef]"
             ```         
          5.3 -i 
            不区分大小写
            ```
              find / -iname A.log
            ```       
          5.4 -user
            按所有者进行搜索
            ```
              find /root -user root 
              find /root -nouser
            ```

          5.5 按时间搜索
            ```
              find /nginx/access.log -mtime +5
            ```  

            |参数|含义|
            |--|--|
            |atime|文件访问时间|
            |ctime|改变文件属性|
            |mtime|修改文件内容|
            |-5|5天哪修改的文件|
            |5|5天前当前修改的文件|
            |+5|5天前修改的文件|

          5.6 按大小搜索
            · k小写,m大写
            ```
              find . -size 100k
            ``` 
            |参数|含义|
            |--|--|
            |-8K|小于8K|
            |8K|等于8K|
            |+8K|大于8K|
            |+8M|小于8M|
          
          5.7 按i节点搜索
              ```
                find . -inum 123456
              ```
          5.8 综合应用
              ```
                 find /tmp -size +10k -a -size -20k
              ```    
              · 查找/etc 目录下，大于10KB 并且小于20KB的文件
              · -a and 逻辑与，两个条件都满足
              · -o or 逻辑或，两个条件满足一个就可以
              ```
               find /tmp -size +10k -a -size -20k -exec ls -lh {} \;
              ```
              · exec对上个命令的结果进行操作
          5.9  grep
          · 在文件当中匹配符合条件的字符串
          · grep "10" access.log
             · -i 忽略大小写
             · -v 排除指定字符串
             · find命令，在系统当中搜索符合条件的文件名，如果需要匹配，使用通配符匹配，通配符是完全匹配
             · grep命令在文件当中搜索符合条件的字符串，如果需要匹配，使用正则表达式进行匹配，正则表达式时包含匹配
